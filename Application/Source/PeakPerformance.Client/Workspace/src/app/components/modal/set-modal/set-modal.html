<div class="my-backdrop"></div>
<section class="my-modal xs">
    <div class="my-modal-header">
        <h3>{{ modalType }} Set</h3>
        <i class="fa-solid fa-circle-xmark" (click)="closeModal()"></i>
    </div>

    <div class="my-modal-body">
        <form [formGroup]="form">
             <div class="position-relative">
                <label for="weight">Weight</label>
                <div class="input-group mb-3" validation [key]="'Weight'" [errors]="errors">
                    <input type="number" class="form-control" id="weight" placeholder="0" aria-label="weight" aria-describedby="weight-addon" formControlName="weight" />
                    <span class="input-group-text input-addon-static" id="weight-addon">{{ userWeightPreference | measurementUnitDescription }}</span>
                </div>
            </div>
            <div class="position-relative">
                <label for="reps">Reps</label>
                <div class="input-group mb-2" validation [key]="'Reps'" [errors]="errors">
                    <input type="number" class="form-control" id="reps" placeholder="0" aria-label="reps" aria-describedby="reps-addon" formControlName="reps" />
                </div>
            </div>
            @if (!selectedSet) {
                <div class="position-relative">
                    <label for="sets">Sets</label>
                    <div class="input-group mb-2" validation [key]="'Sets'" [errors]="errors">
                        <input type="number" class="form-control" id="sets" placeholder="0" aria-label="sets" aria-describedby="sets-addon" formControlName="sets" />
                    </div>
                </div>
            }
            <div class="position-relative">
                <label for="rpeTypeId">RPE</label>
                <select id="rpeTypeId" class="form-select mb-3" formControlName="rpeTypeId" validation [key]="'Rpe'" [errors]="errors">
                    @for (rpe of rpes; track rpe) {
                        <option [ngValue]="rpe.id">{{ rpe.description }}</option>
                    }
                </select>
            </div>
            <div class="position-relative">
                <label for="typeId">Type</label>
                <select id="typeId" class="form-select mb-3" formControlName="typeId" validation [key]="'Type'" [errors]="errors">
                    @for (type of types; track type) {
                        <option [ngValue]="type.id">{{ type.description }}</option>
                    }
                </select>
            </div>
        </form>
    </div>

    <div class="my-modal-footer">
        <button class="btn btn-primary" (click)="submit()">Save</button>
        <button class="btn btn-secondary" (click)="closeModal()">Close</button>
    </div>
</section>